import{S as Ce,i as Oe,s as ze,k as L,l as T,n as u,b as $e,I as it,h as A,G as de,H as ke,a as Z,m as C,c as H,T as ot,a5 as J,E as x,U as z,V as _n,f as ee,g as bn,t as fe,d as yn,W as st,O as at,F as vn,P as wn,J as xn,K as En,L as $n,M as kn,Z as K,a3 as Dn,a6 as Pe,a7 as Fn,w as ct,q as te,x as lt,r as re,a8 as In,y as ut,a9 as De,aa as Ln,ab as Tn,u as An,ac as Sn,z as dt,o as Bn,ad as Mn}from"../../../chunks/index-b6fb4df3.js";import"../../../chunks/ProgressBar.svelte_svelte_type_style_lang-3a148344.js";let ft,Cn=(async()=>{function pt(e){let t,r;return{c(){t=L("hr"),this.h()},l(n){t=T(n,"HR",{class:!0,"data-testid":!0}),this.h()},h(){u(t,"class",r="divider "+e[0]),u(t,"data-testid","divider")},m(n,i){$e(n,t,i)},p(n,[i]){i&1&&r!==(r="divider "+n[0])&&u(t,"class",r)},i:it,o:it,d(n){n&&A(t)}}}function ht(e,t,r){let n,i,{vertical:o=!1}=t,{borderWidth:s="border-t"}=t,{borderStyle:c="border-solid"}=t,{borderColor:p="border-surface-300-600-token"}=t,{margin:l="m-0"}=t,{opacity:h="opacity-full"}=t;const b="block";return e.$$set=g=>{r(9,t=de(de({},t),ke(g))),"vertical"in g&&r(1,o=g.vertical),"borderWidth"in g&&r(2,s=g.borderWidth),"borderStyle"in g&&r(3,c=g.borderStyle),"borderColor"in g&&r(4,p=g.borderColor),"margin"in g&&r(5,l=g.margin),"opacity"in g&&r(6,h=g.opacity)},e.$$.update=()=>{e.$$.dirty&2&&r(7,n=o===!0?"w-0 h-full min-h-[24px]":"w-full h-0"),r(0,i=`${b} ${n} ${s} ${c} ${p} ${l} ${h} ${t.class??""}`)},t=ke(t),[i,o,s,c,p,l,h,n]}class gt extends Ce{constructor(t){super(),Oe(this,t,ht,pt,ze,{vertical:1,borderWidth:2,borderStyle:3,borderColor:4,margin:5,opacity:6})}}function je(e){let t,r;const n=e[21].default,i=xn(n,e,e[20],null);return{c(){t=L("div"),i&&i.c(),this.h()},l(o){t=T(o,"DIV",{class:!0});var s=C(t);i&&i.l(s),s.forEach(A),this.h()},h(){u(t,"class","slide-toggle-text ml-3")},m(o,s){$e(o,t,s),i&&i.m(t,null),r=!0},p(o,s){i&&i.p&&(!r||s&1048576)&&En(i,n,o,o[20],r?kn(n,o[20],s,null):$n(o[20]),null)},i(o){r||(ee(i,o),r=!0)},o(o){fe(i,o),r=!1},d(o){o&&A(t),i&&i.d(o)}}}function mt(e){let t,r,n,i,o,s,c,p,l,h,b,g,E,O,P,F=[{type:"checkbox"},{class:"slide-toggle-input hidden"},e[7](),{disabled:i=e[8].disabled}],$={};for(let d=0;d<F.length;d+=1)$=de($,F[d]);let y=e[9].default&&je(e);return{c(){t=L("div"),r=L("label"),n=L("input"),o=Z(),s=L("div"),c=L("div"),h=Z(),y&&y.c(),this.h()},l(d){t=T(d,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var v=C(t);r=T(v,"LABEL",{class:!0});var D=C(r);n=T(D,"INPUT",{type:!0,class:!0}),o=H(D),s=T(D,"DIV",{class:!0});var S=C(s);c=T(S,"DIV",{class:!0}),C(c).forEach(A),S.forEach(A),h=H(D),y&&y.l(D),D.forEach(A),v.forEach(A),this.h()},h(){ot(n,$),u(c,"class",p="slide-toggle-thumb "+e[2]),J(c,"cursor-not-allowed",e[8].disabled),u(s,"class",l="slide-toggle-track "+e[3]),J(s,"cursor-not-allowed",e[8].disabled),u(r,"class",b="slide-toggle-label "+e[4]),u(t,"id",e[1]),u(t,"class",g="slide-toggle "+e[5]),u(t,"data-testid","slide-toggle"),u(t,"role","switch"),u(t,"aria-label",e[1]),u(t,"aria-checked",e[0]),u(t,"tabindex","0")},m(d,v){$e(d,t,v),x(t,r),x(r,n),n.autofocus&&n.focus(),n.checked=e[0],x(r,o),x(r,s),x(s,c),x(r,h),y&&y.m(r,null),E=!0,O||(P=[z(n,"change",e[27]),z(n,"click",e[22]),z(n,"change",e[23]),z(n,"mouseover",e[24]),z(n,"focus",e[25]),z(n,"blur",e[26]),z(t,"keydown",e[6])],O=!0)},p(d,[v]){ot(n,$=_n(F,[{type:"checkbox"},{class:"slide-toggle-input hidden"},d[7](),(!E||v&256&&i!==(i=d[8].disabled))&&{disabled:i}])),v&1&&(n.checked=d[0]),(!E||v&4&&p!==(p="slide-toggle-thumb "+d[2]))&&u(c,"class",p),(!E||v&260)&&J(c,"cursor-not-allowed",d[8].disabled),(!E||v&8&&l!==(l="slide-toggle-track "+d[3]))&&u(s,"class",l),(!E||v&264)&&J(s,"cursor-not-allowed",d[8].disabled),d[9].default?y?(y.p(d,v),v&512&&ee(y,1)):(y=je(d),y.c(),ee(y,1),y.m(r,null)):y&&(bn(),fe(y,1,1,()=>{y=null}),yn()),(!E||v&16&&b!==(b="slide-toggle-label "+d[4]))&&u(r,"class",b),(!E||v&2)&&u(t,"id",d[1]),(!E||v&32&&g!==(g="slide-toggle "+d[5]))&&u(t,"class",g),(!E||v&2)&&u(t,"aria-label",d[1]),(!E||v&1)&&u(t,"aria-checked",d[0])},i(d){E||(ee(y),E=!0)},o(d){fe(y),E=!1},d(d){d&&A(t),y&&y.d(),O=!1,st(P)}}}const _t="inline-block",bt="flex items-center",yt="flex transition-all duration-[200ms]",vt="w-[50%] h-full scale-[0.7] cursor-pointer transition-all duration-[200ms] shadow-lg";function wt(e,t,r){let n,i,o,s,c,p,l,h;const b=["checked","size","accent","borderWidth","borderColor","rounded","label"];let g=at(t,b),{$$slots:E={},$$scope:O}=t;const P=vn(E),F=wn();let{checked:$=!1}=t,{size:y="md"}=t,{accent:d="bg-accent-500"}=t,{borderWidth:v="border-token"}=t,{borderColor:D="border-surface-300-600-token"}=t,{rounded:S="rounded-full"}=t,{label:W=""}=t,a;switch(y){case"sm":a="w-12 h-6";break;case"lg":a="w-20 h-10";break;default:a="w-16 h-8"}function m(_){["Enter","Space"].includes(_.code)&&(_.preventDefault(),F("keyup",_),_.target.firstChild.click())}function w(){return delete g.class,g}function B(_){K.call(this,e,_)}function M(_){K.call(this,e,_)}function N(_){K.call(this,e,_)}function j(_){K.call(this,e,_)}function le(_){K.call(this,e,_)}function R(){$=this.checked,r(0,$)}return e.$$set=_=>{r(8,t=de(de({},t),ke(_))),r(29,g=at(t,b)),"checked"in _&&r(0,$=_.checked),"size"in _&&r(10,y=_.size),"accent"in _&&r(11,d=_.accent),"borderWidth"in _&&r(12,v=_.borderWidth),"borderColor"in _&&r(13,D=_.borderColor),"rounded"in _&&r(14,S=_.rounded),"label"in _&&r(1,W=_.label),"$$scope"in _&&r(20,O=_.$$scope)},e.$$.update=()=>{e.$$.dirty&2049&&r(18,n=$?d:"bg-surface-200-700-token cursor-pointer"),e.$$.dirty&1&&r(17,i=$?"bg-white":"bg-white/50"),e.$$.dirty&1&&r(16,o=$?"translate-x-full":""),r(19,s=t.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),e.$$.dirty&524288&&r(5,c=`${_t} ${s}`),r(4,p=`${bt} ${t.class??""}`),e.$$.dirty&323584&&r(3,l=`${yt} ${v} ${D} ${S} ${a} ${n}`),e.$$.dirty&212992&&r(2,h=`${vt} ${S} ${i} ${o}`)},t=ke(t),[$,W,h,l,p,c,m,w,t,P,y,d,v,D,S,a,o,i,n,s,O,E,B,M,N,j,le,R]}class xt extends Ce{constructor(t){super(),Oe(this,t,wt,mt,ze,{checked:0,size:10,accent:11,borderWidth:12,borderColor:13,rounded:14,label:1})}}function ne(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function c(h){try{l(n.next(h))}catch(b){s(b)}}function p(h){try{l(n.throw(h))}catch(b){s(b)}}function l(h){h.done?o(h.value):i(h.value).then(c,p)}l((n=n.apply(e,t||[])).next())})}function ie(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(h){return p([l,h])}}function p(l){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(h){l=[6,h],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Et(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function $t(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Et(arguments[t]));return e}var kt=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function pe(e,t){var r=Dt(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Dt(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),i=kt.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Ft=[".DS_Store","Thumbs.db"];function It(e){return ne(this,void 0,void 0,function(){return ie(this,function(t){return[2,Lt(e)&&e.dataTransfer?St(e.dataTransfer,e.type):Tt(e)]})})}function Lt(e){return!!e.dataTransfer}function Tt(e){var t=At(e.target)?e.target.files?Fe(e.target.files):[]:[];return t.map(function(r){return pe(r)})}function At(e){return e!==null}function St(e,t){return ne(this,void 0,void 0,function(){var r,n;return ie(this,function(i){switch(i.label){case 0:return e.items?(r=Fe(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Bt))]):[3,2];case 1:return n=i.sent(),[2,Ne(We(n))];case 2:return[2,Ne(Fe(e.files).map(function(o){return pe(o)}))]}})})}function Ne(e){return e.filter(function(t){return Ft.indexOf(t.name)===-1})}function Fe(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Bt(e){if(typeof e.webkitGetAsEntry!="function")return Ue(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Ve(t):Ue(e)}function We(e){return e.reduce(function(t,r){return $t(t,Array.isArray(r)?We(r):[r])},[])}function Ue(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var r=pe(t);return Promise.resolve(r)}function Mt(e){return ne(this,void 0,void 0,function(){return ie(this,function(t){return[2,e.isDirectory?Ve(e):Ct(e)]})})}function Ve(e){var t=e.createReader();return new Promise(function(r,n){var i=[];function o(){var s=this;t.readEntries(function(c){return ne(s,void 0,void 0,function(){var p,l,h;return ie(this,function(b){switch(b.label){case 0:if(c.length)return[3,5];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return p=b.sent(),r(p),[3,4];case 3:return l=b.sent(),n(l),[3,4];case 4:return[3,6];case 5:h=Promise.all(c.map(Mt)),i.push(h),o(),b.label=6;case 6:return[2]}})})},function(c){n(c)})}o()})}function Ct(e){return ne(this,void 0,void 0,function(){return ie(this,function(t){return[2,new Promise(function(r,n){e.file(function(i){var o=pe(i,e.fullPath);r(o)},function(i){n(i)})})]})})}function Ot(e,t){if(!e||!t)return!0;const r=Array.isArray(t)?t:t.split(","),n=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return r.some(s=>{const c=s.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):i===c})}const zt=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Pt=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],jt=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Nt=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Ge=(e,t,r)=>{let n=e;return typeof t=="string"||Array.isArray(t)?n=e.toLocaleString(t,r):(t===!0||r!==void 0)&&(n=e.toLocaleString(void 0,r)),n};function he(e,t){if(!Number.isFinite(e))throw new TypeError(`Expected a finite number, got ${typeof e}: ${e}`);t={bits:!1,binary:!1,...t};const r=t.bits?t.binary?Nt:jt:t.binary?Pt:zt;if(t.signed&&e===0)return` 0 ${r[0]}`;const n=e<0,i=n?"-":t.signed?"+":"";n&&(e=-e);let o;if(t.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:t.minimumFractionDigits}),t.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:t.maximumFractionDigits,...o}),e<1){const l=Ge(e,t.locale,o);return i+l+" "+r[0]}const s=Math.min(Math.floor(t.binary?Math.log(e)/Math.log(1024):Math.log10(e)/3),r.length-1);e/=(t.binary?1024:1e3)**s,o||(e=e.toPrecision(3));const c=Ge(Number(e),t.locale,o),p=r[s];return i+c+" "+p}var G;(function(e){e[e.InvalidFileType=0]="InvalidFileType",e[e.FileSizeMaximumExceeded=1]="FileSizeMaximumExceeded",e[e.FileSizeMinimumNotMet=2]="FileSizeMinimumNotMet",e[e.FileCountExceeded=3]="FileCountExceeded"})(G||(G={}));const Wt={[G.InvalidFileType]:"invalid file type",[G.FileCountExceeded]:"file count exceeded",[G.FileSizeMinimumNotMet]:"min file size not met",[G.FileSizeMaximumExceeded]:"max file size exceeded"};class ge extends Error{constructor(t,r,n){super(n),this.code=t,this.message=n,this.file=r,this.name=Wt[t]}}class Ut extends ge{constructor(t,r,n){n||(n=`${t.name} is not an accepted file type (${t.type}`),super(G.InvalidFileType,t,n),typeof r=="string"&&(r=r.split(",")),this.allowed=r}}class Vt extends ge{constructor(t,r,n){n=n??`$file size (${he(t.size)}) does not meet the minimum of ${he(r)}.`,super(G.FileSizeMinimumNotMet,t,n),this.minimum=r}}class Gt extends ge{constructor(t,r,n){n=n??`file size (${he(t.size)}) exceeds maximum of ${he(r)}.`,super(G.FileSizeMaximumExceeded,t,n)}}class Rt extends ge{constructor(t,r,n){n=n??`file count limit of ${r} exceeded`,super(G.FileCountExceeded,t,n),this.limit=r}}function qt(e,t){let{fileLimit:r}=t;t.multiple!=null&&!t.multiple&&(r=1);let n=0;return e.reduce((i,o)=>{let s=Zt(o,t);return s!=null?(i.rejected.push({file:o,error:s}),i):r>0&&n>=r?(s=new Rt(o,r),i.rejected.push({file:o,error:s}),i):(i.accepted.push(o),n=n+1,i)},{accepted:[],rejected:[]})}function Zt(e,t){const{accept:r,minSize:n,maxSize:i}=t;return Ht(e,r)||Jt(e,{min:n,max:i})}function Ht(e,t){if(t!=null&&(typeof t=="string"&&(t=t.split(",")),t.push("application/x-moz-file"),!Ot(e,t)))return new Ut(e,t)}function Yt(e,t){if(t&&e.size<t)return new Vt(e,t)}function Xt(e,t){if(t&&e.size>t)return new Gt(e,t)}function Jt(e,{min:t,max:r}){return Xt(e,r)||Yt(e,t)}function Kt(e){return"arrayBuffer"in e&&"size"in e}function Qt(e){return"dataTransfer"in e}function er(e){return"tagName"in e}function tr(e){return"files"in e}function rr(e){return er(e.target)&&tr(e.target)}function Y(e){return rr(e)?!!e.target.files.length:Qt(e)&&e.dataTransfer.types.some(t=>t==="Files"||t==="application/x-moz-file")}async function Q(e){return(await It(e)).map(t=>Kt(t)?t:t.getAsFile())}async function Ie(e,t){const r=await Q(e);return qt(r,t)}function Re(e){return"childNodes"in e}function Le(){return typeof window<"u"}function nr(e){return e.fileLimit&&e.fileLimit>1?!0:e.fileLimit!==void 0&&e.fileLimit===1?!1:e.multiple!==void 0?e.multiple:!0}function ir(e,t){return t.disabled?-1:e.tabIndex>-1?e.tabIndex:t.tabIndex!==void 0?t.tabIndex:t.input.tabIndex>-1?t.input.tabIndex:t.hideInput?0:-1}function me(e){return e||e===void 0}function or(e){return e.fileLimit===0?!0:e.disabled!==void 0?e.disabled:!1}function sr(e){var t,r;if(e.accept!==void 0&&e.accept.length)return Array.isArray(e.accept)?[...e.accept]:e.accept;if(!((t=e.input)===null||t===void 0)&&t.accept.length)return(r=e.input)===null||r===void 0?void 0:r.accept}function ar(e,t){const r=t?{...t}:{};return r.disabled=or(r),r.id=cr(e,r),r.hideInput=me(r.hideInput),r.input=lr(e,r),r.multiple=nr(r),r.hideInput=me(r.hideInput),r.windowDrop=Le()&&me(r.windowDrop),r.tabIndex=ir(e,r),r.clickToUpload=me(r.clickToUpload),r.accept=sr(r),r}function cr(e,t){var r;return!((r=t.id)===null||r===void 0)&&r.length?t.id:e.id.length?e.id:void 0}function lr(e,{input:t}){if(t!=null){if(dr(t))return t;throw new Error("input must be an HTMLInputElement with type file")}if(e.tagName==="INPUT")throw new Error("FileDrop: action must be used on a containing element, not the input.");const r=e.querySelectorAll("input[type='file']");if(!r.length){const n=document.createElement("input");return n.setAttribute("type","file"),n.style.display="none",n.tabIndex=-1,e.appendChild(n)}if(r.length>1)throw new Error("FileDrop: container node may only contain a single file input unless input is specified in the options");return r.item(0)}const ur=function(e,t){function r(a,m){e.dispatchEvent(new CustomEvent(a,{detail:m}))}let n,i,o=!1,s=!1,c;S(t);async function p(a){a.preventDefault();const m=await Ie(a,i);r("filedrop",{method:"input",files:m,isFileDialogOpen:o,isDraggingFiles:s,event:c,id:i.id,options:i})}async function l(a){if(s=Y(a),!s)return;a.preventDefault(),c=a;const m=await Ie(a,i);r("filedrop",{method:"drop",files:m,options:i,id:i.id,isFileDialogOpen:o,isDraggingFiles:s,event:c})}function h(){setTimeout(()=>{n.click()},0)}function b(a){c=a,(a.key===" "||a.key==="Enter")&&(a.preventDefault(),h())}function g(){o=!0,r("filedialogopen",{isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}function E(a){Re(a.target)&&n.isEqualNode(a.target)||(a.preventDefault(),c=a,h())}function O(a){s=Y(a)}async function P(a){if(s=Y(a),!s)return;s=!1;const m=await Q(a);r("windowfiledragleave",{event:a,files:m,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}async function F(a){if(a.preventDefault(),s=Y(a),!s)return;const m=await Q(a);r("windowfiledragover",{event:a,files:m,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}async function $(a){if(s=Y(a),!s)return;s=!0;const m=await Q(a);r("filedragenter",{files:m,event:a,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}async function y(a){if(s=Y(a),!s)return;const m=await Q(a);r("filedragleave",{event:a,files:m,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}async function d(a){if(s=Y(a),!s)return;const m=await Q(a);r("filedragover",{event:a,files:m,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}async function v(a){if(a.preventDefault(),s=Y(a),!s||Re(a.target)&&(e.isEqualNode(a.target)||e.contains(a.target))||!i.windowDrop)return;const m=await Ie(a,i);r("filedrop",{method:"drop",event:a,files:m,isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})}function D(){if(n&&o){o=!1;const a=m=>()=>{if(!(n!=null&&n.files.length)&&m<21){setTimeout(a(m+1),35);return}if(!n.files.length){r("filedialogcancel",{isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i});return}r("filedialogclose",{isDraggingFiles:s,isFileDialogOpen:o,id:i.id,options:i})};setTimeout(a(0),35)}}function S(a){var m;i=ar(e,a),n=i.input,e.tabIndex=i.tabIndex,i.disabled?(e.classList.add("disabled"),W()):(e.classList.remove("disabled"),n.multiple=i.multiple,!((m=i.accept)===null||m===void 0)&&m.length?Array.isArray(i.accept)?n.accept=i.accept.join(","):n.accept=i.accept:n.removeAttribute("accept"),n.autocomplete="off",i.hideInput&&(n.style.display="none"),Le&&(e.addEventListener("dragenter",$),e.addEventListener("dragleave",y),e.addEventListener("dragover",d),e.addEventListener("drop",l),n.addEventListener("change",p),n.addEventListener("click",g),i.clickToUpload?e.addEventListener("click",E):e.removeEventListener("click",E),i.hideInput&&e.addEventListener("keydown",b),!i.hideInput&&!i.clickToUpload&&e.removeEventListener("keydown",b),window.addEventListener("focus",D),document.addEventListener("dragenter",O),document.addEventListener("dragleave",P),document.addEventListener("dragover",F),document.addEventListener("drop",v)))}function W(){e.removeEventListener("keydown",b),e.removeEventListener("dragenter",$),e.removeEventListener("dragleave",y),e.removeEventListener("dragover",d),e.removeEventListener("drop",l),e.removeEventListener("click",E),n.removeEventListener("change",p),n.removeEventListener("click",g),n.files=null,Le&&(document.removeEventListener("dragover",F),document.removeEventListener("dragenter",O),document.removeEventListener("dragleave",P),document.removeEventListener("drop",v),window.removeEventListener("focus",D))}return{update(a){S(a||{})},destroy(){W()}}};function dr(e){var t;return e.tagName==="INPUT"&&((t=e.getAttribute("type"))===null||t===void 0?void 0:t.toLowerCase())==="file"}const fr=""+new URL("../../../assets/tomo_bg-f27b7f56.wasm",import.meta.url).href,pr=async(e={},t)=>{let r;if(t.startsWith("data:")){const n=t.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const o=atob(n);i=new Uint8Array(o.length);for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,e)}else{const n=await fetch(t),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,e);else{const o=await n.arrayBuffer();r=await WebAssembly.instantiate(o,e)}}return r.instance.exports},q=new Array(32).fill(void 0);q.push(void 0,null,!0,!1);function qe(e){return q[e]}let oe=q.length;function hr(e){e<36||(q[e]=oe,oe=e)}function gr(e){const t=qe(e);return hr(e),t}const mr=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let Ze=new mr("utf-8",{ignoreBOM:!0,fatal:!0});Ze.decode();let Te=new Uint8Array;function se(){return Te.byteLength===0&&(Te=new Uint8Array(Ye.buffer)),Te}function _e(e,t){return Ze.decode(se().subarray(e,e+t))}function _r(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function br(e){return e==null}let ae=0;function yr(e,t){const r=t(e.length*1);return se().set(e,r/1),ae=e.length,r}function vr(e){oe===q.length&&q.push(q.length+1);const t=oe;return oe=q[t],q[t]=e,t}const wr=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let be=new wr("utf-8");const xr=typeof be.encodeInto=="function"?function(e,t){return be.encodeInto(e,t)}:function(e,t){const r=be.encode(e);return t.set(r),{read:e.length,written:r.length}};function Er(e,t,r){if(r===void 0){const c=be.encode(e),p=t(c.length);return se().subarray(p,p+c.length).set(c),ae=c.length,p}let n=e.length,i=t(n);const o=se();let s=0;for(;s<n;s++){const c=e.charCodeAt(s);if(c>127)break;o[i+s]=c}if(s!==n){s!==0&&(e=e.slice(s)),i=r(i,n,n=s+e.length*3);const c=se().subarray(i+s,i+n),p=xr(e,c);s+=p.written}return ae=s,i}let Ae=new Int32Array;function He(){return Ae.byteLength===0&&(Ae=new Int32Array(Ye.buffer)),Ae}function $r(e){return()=>{throw new Error(`${e} is not defined`)}}class ce{static __wrap(t){const r=Object.create(ce.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Br(t)}static new(){const t=Mr();return ce.__wrap(t)}set_pixel(t,r,n){Cr(this.ptr,t,r,n)}get_pixel(t,r){return Or(this.ptr,t,r)!==0}cls(){zr(this.ptr)}}class ye{static __wrap(t){const r=Object.create(ye.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Pr(t)}get success(){return jr(this.ptr)!==0}set success(t){Nr(this.ptr,t)}get opcode(){return Xe(this.ptr)}set opcode(t){Je(this.ptr,t)}}class ve{static __wrap(t){const r=Object.create(ve.prototype);return r.ptr=t,r}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();Wr(t)}get pc(){return Xe(this.ptr)}set pc(t){Je(this.ptr,t)}get i_reg(){return Ur(this.ptr)}set i_reg(t){Vr(this.ptr,t)}get sp(){return Gr(this.ptr)}set sp(t){Rr(this.ptr,t)}get display(){const t=qr(this.ptr);return ce.__wrap(t)}set display(t){_r(t,ce);var r=t.ptr;t.ptr=0,Zr(this.ptr,r)}get current_key(){const t=Hr(this.ptr);return t===16?void 0:t}set current_key(t){Yr(this.ptr,br(t)?16:t)}constructor(){const t=Xr();return ve.__wrap(t)}fetch(){return Jr(this.ptr)}execute(t){const r=Kr(this.ptr,t);return ye.__wrap(r)}tick(){const t=Qr(this.ptr);return ye.__wrap(t)}should_beep(){return en(this.ptr)!==0}key_press(t){tn(this.ptr,t)}key_up(t){rn(this.ptr,t)}reset(){nn(this.ptr)}load(t){const r=yr(t,Ke),n=ae;return on(this.ptr,r,n)>>>0}test_set_registers(t,r){sn(this.ptr,t,r)}test_get_registers(t){return an(this.ptr,t)}test_set_ram(t,r){cn(this.ptr,t,r)}test_get_ram(t){return ln(this.ptr,t)}test_get_stack(t){return un(this.ptr,t)}test_set_stack(t,r){dn(this.ptr,t,r)}}function kr(e,t){console.error(_e(e,t))}function Dr(e,t){console.log(_e(e,t))}function Fr(){const e=new Error;return vr(e)}function Ir(e,t){const r=qe(t).stack,n=Er(r,Ke,pn),i=ae;He()[e/4+1]=i,He()[e/4+0]=n}function Lr(e,t){try{console.error(_e(e,t))}finally{fn(e,t)}}function Tr(e){gr(e)}const Ar=typeof Math.random=="function"?Math.random:$r("Math.random");function Sr(e,t){throw new Error(_e(e,t))}const f=await pr({"./tomo_bg.js":{__wbg_error_db7e8b96adda7109:kr,__wbg_log_6fe454705f39d98e:Dr,__wbg_new_abda76e883ba8a5f:Fr,__wbg_stack_658279fe44541cf6:Ir,__wbg_error_f851667af71bcfc6:Lr,__wbindgen_object_drop_ref:Tr,__wbg_random_656f2ae924b2540e:Ar,__wbindgen_throw:Sr}},fr),Ye=f.memory,Br=f.__wbg_display_free,Mr=f.display_new,Cr=f.display_set_pixel,Or=f.display_get_pixel,zr=f.display_cls,Pr=f.__wbg_output_free,jr=f.__wbg_get_output_success,Nr=f.__wbg_set_output_success,Xe=f.__wbg_get_output_opcode,Je=f.__wbg_set_output_opcode,Wr=f.__wbg_processor_free,Ur=f.__wbg_get_processor_i_reg,Vr=f.__wbg_set_processor_i_reg,Gr=f.__wbg_get_processor_sp,Rr=f.__wbg_set_processor_sp,qr=f.__wbg_get_processor_display,Zr=f.__wbg_set_processor_display,Hr=f.__wbg_get_processor_current_key,Yr=f.__wbg_set_processor_current_key,Xr=f.processor_new,Jr=f.processor_fetch,Kr=f.processor_execute,Qr=f.processor_tick,en=f.processor_should_beep,tn=f.processor_key_press,rn=f.processor_key_up,nn=f.processor_reset,on=f.processor_load,sn=f.processor_test_set_registers,an=f.processor_test_get_registers,cn=f.processor_test_set_ram,ln=f.processor_test_get_ram,un=f.processor_test_get_stack,dn=f.processor_test_set_stack;f.__wbg_get_processor_pc,f.__wbg_set_processor_pc;const Ke=f.__wbindgen_malloc,fn=f.__wbindgen_free,pn=f.__wbindgen_realloc;function Qe(e){switch(e.key){case"0":return 9;case"1":return 0;case"2":return 1;case"3":return 2;case"4":return 3;case"5":return 4;case"6":return 5;case"7":return 6;case"8":return 7;case"9":return 8;case"A":return 10;case"B":return 11;case"C":return 12;case"D":return 13;case"E":return 14;case"F":return 15;case"escape":return 27}return 0}const{window:we}=Mn;function hn(e){let t,r,n,i,o,s,c,p,l,h,b,g,E,O,P,F,$,y,d,v,D,S=e[0]?"Resetting":"Starting",W,a,m,w,B,M,N,j,le,R,_,U,V,Se,et;Dn(e[13]),h=new gt({});function mn(k){e[16](k)}let tt={};return e[0]!==void 0&&(tt.checked=e[0]),m=new xt({props:tt}),Pe.push(()=>Fn(m,"checked",mn,e[0])),{c(){t=L("main"),r=L("audio"),i=Z(),o=L("div"),s=L("canvas"),l=Z(),ct(h.$$.fragment),b=Z(),g=L("div"),E=L("h1"),O=te("Settings"),P=Z(),F=L("div"),$=L("div"),y=te("Upload a ROM to play"),v=Z(),D=L("label"),W=te(S),a=te(" the emulator (Or press `Escape` for the same action)\r\n					"),ct(m.$$.fragment),B=Z(),M=L("label"),N=te(`Set a color for active pixels\r
					`),j=L("input"),le=Z(),R=L("label"),_=te(`Set a color for inactive pixels\r
					`),U=L("input"),this.h()},l(k){t=T(k,"MAIN",{class:!0});var I=C(t);r=T(I,"AUDIO",{src:!0}),C(r).forEach(A),i=H(I),o=T(I,"DIV",{class:!0});var ue=C(o);s=T(ue,"CANVAS",{width:!0,height:!0}),C(s).forEach(A),ue.forEach(A),l=H(I),lt(h.$$.fragment,I),b=H(I),g=T(I,"DIV",{class:!0});var xe=C(g);E=T(xe,"H1",{class:!0});var rt=C(E);O=re(rt,"Settings"),rt.forEach(A),P=H(xe),F=T(xe,"DIV",{class:!0});var X=C(F);$=T(X,"DIV",{class:!0});var nt=C($);y=re(nt,"Upload a ROM to play"),nt.forEach(A),v=H(X),D=T(X,"LABEL",{for:!0,class:!0});var Ee=C(D);W=re(Ee,S),a=re(Ee," the emulator (Or press `Escape` for the same action)\r\n					"),lt(m.$$.fragment,Ee),Ee.forEach(A),B=H(X),M=T(X,"LABEL",{for:!0,class:!0});var Be=C(M);N=re(Be,`Set a color for active pixels\r
					`),j=T(Be,"INPUT",{id:!0,class:!0}),Be.forEach(A),le=H(X),R=T(X,"LABEL",{for:!0,class:!0});var Me=C(R);_=re(Me,`Set a color for inactive pixels\r
					`),U=T(Me,"INPUT",{id:!0,class:!0}),Me.forEach(A),X.forEach(A),xe.forEach(A),I.forEach(A),this.h()},h(){In(r.src,n="https://www.soundjay.com/buttons/beep-02.mp3")||u(r,"src",n),u(s,"width",c=64*e[2]),u(s,"height",p=32*e[2]),u(o,"class","flex flex-col items-center content-center justify-center text-center mb-3"),u(E,"class","mb-2"),u($,"class","flex flex-col items-center m-2 content-center justify-center text-center w-3/4 border-dashed border-2 border-accent-500 rounded-[8px]"),J($,"border-surface-800",e[0]),J($,"cursor-no-drop",e[0]),u(D,"for","colorON"),u(D,"class","m-2"),u(j,"id","colorON"),j.disabled=e[0],u(j,"class","bg-surface-200 border-[2px] dark:border-none border-surface-800 dark:bg-surface-800 p-1 rounded-[8px] focus:outline-none focus:outline-accent-500"),u(M,"for","colorON"),u(M,"class","m-2"),u(U,"id","colorOFF"),U.disabled=e[0],u(U,"class","bg-surface-200 border-[2px] dark:border-none border-surface-800 dark:bg-surface-800 p-1 rounded-[8px] focus:outline-none focus:outline-accent-500"),u(R,"for","colorOFF"),u(R,"class","m-2"),u(F,"class","grid grid-cols-2 justify-around"),u(g,"class","flex flex-col items-center content-center justify-center text-center min-h-6rem mt-3"),u(t,"class","h-full w-full p-5 flex flex-col items-center content-center justify-center text-center")},m(k,I){$e(k,t,I),x(t,r),e[14](r),x(t,i),x(t,o),x(o,s),e[15](s),x(t,l),ut(h,t,null),x(t,b),x(t,g),x(g,E),x(E,O),x(g,P),x(g,F),x(F,$),x($,y),x(F,v),x(F,D),x(D,W),x(D,a),ut(m,D,null),x(F,B),x(F,M),x(M,N),x(M,j),De(j,e[4]),x(F,le),x(F,R),x(R,_),x(R,U),De(U,e[5]),V=!0,Se||(et=[z(we,"keydown",e[9]),z(we,"keyup",e[10]),z(we,"resize",e[13]),Ln(d=ur.call(null,$,e[7])),z($,"filedrop",e[8]),z(j,"input",e[17]),z(j,"keydown",e[12]),z(U,"input",e[18]),z(U,"keydown",e[11])],Se=!0)},p(k,[I]){(!V||I&4&&c!==(c=64*k[2]))&&u(s,"width",c),(!V||I&4&&p!==(p=32*k[2]))&&u(s,"height",p),d&&Tn(d.update)&&I&128&&d.update.call(null,k[7]),(!V||I&1)&&J($,"border-surface-800",k[0]),(!V||I&1)&&J($,"cursor-no-drop",k[0]),(!V||I&1)&&S!==(S=k[0]?"Resetting":"Starting")&&An(W,S);const ue={};!w&&I&1&&(w=!0,ue.checked=k[0],Sn(()=>w=!1)),m.$set(ue),(!V||I&1)&&(j.disabled=k[0]),I&16&&j.value!==k[4]&&De(j,k[4]),(!V||I&1)&&(U.disabled=k[0]),I&32&&U.value!==k[5]&&De(U,k[5])},i(k){V||(ee(h.$$.fragment,k),ee(m.$$.fragment,k),V=!0)},o(k){fe(h.$$.fragment,k),fe(m.$$.fragment,k),V=!1},d(k){k&&A(t),e[14](null),e[15](null),dt(h),dt(m),Se=!1,st(et)}}}function gn(e,t,r){let n,i=!1;n=new ve;let o,s=30;s%2!==0&&(s+=1);let c,p="white",l="black";function h(){const w=c.getContext("2d");w.beginPath(),w.rect(0,0,64*s,32*s),w.fillStyle=l,w.fill()}Bn(()=>{setTimeout(()=>{h()},100)});let b,g={fileLimit:1,disabled:i};async function E(w){const B=await w.detail.files.accepted[0].arrayBuffer(),M=new Uint8Array(B);let N=n.load(M);alert(`ROM was loaded successfully. 
DEBUG: Loaded data has a length of `+N+" bytes")}function O(){i?(r(0,i=!1),n&&(n.reset(),h())):r(0,i=!0)}function P(){if(!i)return;let w=n.tick();w.success||(r(0,i=!1),alert(`Something went wrong processing the latest opcode. 
DEBUG: The faulty opcode is '`+w.opcode.toString(16)+"'")),n.should_beep()&&b.play();const B=c.getContext("2d");for(let M=0;M<32;M++)for(let N=0;N<64;N++)B.beginPath(),B.rect(N*s,M*s,N+s,M+s),n.display.get_pixel(M,N)?B.fillStyle=p:B.fillStyle=l,B.fill();i&&window.requestAnimationFrame(P)}function F(w){const B=Qe(w);B===27?O():n.key_press(B)}function $(w){const B=Qe(w);n.key_up(B)}function y(w){K.call(this,e,w)}function d(w){K.call(this,e,w)}function v(){r(1,o=we.innerWidth)}function D(w){Pe[w?"unshift":"push"](()=>{b=w,r(6,b)})}function S(w){Pe[w?"unshift":"push"](()=>{c=w,r(3,c)})}function W(w){i=w,r(0,i)}function a(){p=this.value,r(4,p)}function m(){l=this.value,r(5,l)}return e.$$.update=()=>{e.$$.dirty&2&&r(2,s=Math.abs(Math.ceil(o/70))),e.$$.dirty&1&&r(7,g.disabled=i,g),e.$$.dirty&1&&i&&P()},[i,o,s,c,p,l,b,g,E,F,$,y,d,v,D,S,W,a,m]}ft=class extends Ce{constructor(t){super(),Oe(this,t,gn,hn,ze,{})}}})();export{Cn as __tla,ft as default};
